<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>[LPOO-2020-G72](https://web.fe.up.pt/~arestivo/page/courses/2020/lpoo/project/)</title>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
        
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        
        
    </head>
    <body class="vscode-light">
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700&display=swap" rel="stylesheet">
<h6 id="lpoo-2020-g72"><a href="https://web.fe.up.pt/~arestivo/page/courses/2020/lpoo/project/">LPOO-2020-G72</a></h6>
<h1 id="bombardier-ii--the-revenge-of-the-skyscrapers">Bombardier II : The Revenge of The Skyscrapers</h1>
<blockquote>
<p>A suicide helicopter tries to bomb a city taken by the forces of evil, while escaping from monsters moving in its direction.</p>
</blockquote>
<pre><code class="language-java"><div>
                                             \-O
                                                                      &lt;-/-{
                                             _
                                             |
               &lt;-(-(                         W
      T                 T                                               T
      # S                #                                           S  #
      # #                #                       R   R  R     R      #  #
      # #                #                       #   #  #    Q#    Q #  #    Q
      # #           P    #                R#     #   #  #    ##    # #  #    #
      # #           #    #   O            ##     #   #  #    ##    # #  #    #
      # #         N #   N#   #        N   ##   N #   #  #    ##    # #  #    # N
      # #         # #   ##   # M      #   ##   # #   #  #    ##    # # M#    # #
 L    # #         # # L ##   # #   L  #   ##   # #   #  # L  ##L   # # ##    # #
 #    # #   K     # # # ##   # #   #  #   ##   # #   #  # #  ###   # # ## K  # #
 # J  # #   #     #J# # ## J # #   #J #J  ##   # #   #  # #  ###   # # ## #  # #
 # #  # #   #     ###I# ## # # #   ## ##  ##   # #   #  # #  ###   # #I## #  # #
 # #  # #   #     ##### ## # # #H  ## ##  ##   # #   #  # #  ###   # #### #  # #
G# #  # #   #   G ##### ## # # ##G ## ##G ##   # #   #  #G#  ###   # #### #  # #
## #  # # F #   #F##### ## #F# ### ## ### ##F  # #  F#  ###  ###   # ####F#FF# #
## #  # # # #  E####### ## ### ### ## ### ###  #E#E ##  ###  ###  E#E######### #
## # D# #D#D#  ######## ## ### ### ## ### ### D#### ##  ###D ###  ############ #
## # ## #####C ######## ## ###C###C## ### ### ##### ##  #### ###C ############ #
##B#B## ######B######## ## ##########B### ### #####B##B #### ####B############ #
####### ###############A##A############## ### ######### #### ################# #
==========Blocks: <span class="hljs-number">0700</span>/<span class="hljs-number">0700</span>, City:          OPorto (<span class="hljs-number">01</span>), Score:      -<span class="hljs-number">1</span>=========
</div></code></pre>
<h2 id="description">Description</h2>
<p><em>This is a more elaborate version of the <a href="https://www.uvlist.net/game-187836-bombardier">Bombardier</a> game for Linux.</em></p>
<h3 id="there-will-be-a-helicopter-skyscrapers-and-some-flying-monsters">There will be a helicopter, skyscrapers and some flying monsters!</h3>
<p>The helicopter, starting from the top left corner of the scene, will have to destroy the buildings bellow. It may launch some bombs to avoid colliding with them, while losing altitude. At the same time, the monsters will be moving towards it, from the right side. The helicopter will have to launch frontal missiles to defeat them, being able to boost up or down, a little bit, to escape or face the monsters.</p>
<hr>
<p>This project was developed by Diana Freitas (<a href="mailto:up201806230@fe.up.pt">up201806230@fe.up.pt</a>) and Eduardo Brito (<a href="up201806271@fe.up.pt">up201806271@fe.up.pt</a>) for LPOO 2019‚ÅÑ2020.</p>
<h2 id="implemented-features">IMPLEMENTED FEATURES</h2>
<h3 id="initial-scene">Initial Scene</h3>
<h4 id="objects">Objects</h4>
<p>At this moment, there is a helicopter placed in the top left corner of the screen and some random generated buildings. Monsters are yet to come.</p>
<h3 id="info-bar">Info Bar</h3>
<p>This bar is already set on the screen. It will always be below the buildings' bottom line and will contain the following info, when a new game starts.</p>
<h4 id="blocks">Blocks</h4>
<p>There will be an indication here for the number of blocks of buildings remaining for destroying.</p>
<h4 id="city">City</h4>
<p>The city name, chosen when the main menu is set, will be presented here.</p>
<h4 id="score">Score</h4>
<p>The place where the score will be shown.</p>
<h4 id="lives">Lives</h4>
<p>Not yet configured for the helicopter.</p>
<blockquote>
<p>The above may change as we fully implement new things...</p>
</blockquote>
<h2 id="planned-features">PLANNED FEATURES</h2>
<h3 id="initial-scene-1">Initial Scene</h3>
<h4 id="objects-1">Objects</h4>
<p>There will be a helicopter, placed in the top left corner of the screen, some randomly generated monsters moving towards the helicopter in the top right corner and buildings below them.</p>
<h3 id="movement-control-and-time-factor">Movement Control and Time Factor</h3>
<h4 id="vertical-movement">Vertical Movement</h4>
<p>The vertical movement of the helicopter is controlled not only by the player, but also by a time factor.</p>
<ul>
<li>The player can move the helicopter up or down a little bit, using the arrow keys, to escape the monsters that are flying towards him from the right side.</li>
<li>The altitude of the helicopter decreases by one unit each time it enters the scene from the left side.</li>
<li>The monsters randomly change their vertical position by one or two units, as they fly towards the helicopter.</li>
</ul>
<h4 id="horizontal-movement">Horizontal Movement</h4>
<ul>
<li>The velocity of the helicopter's horizontal movement gives the user time to launch the bombs and shoot the monsters without making it too hard or too easy to finish the game.</li>
<li>The flying monsters are moving horizontally towards the helicopter, possibly with different moving techniques and speeds.</li>
</ul>
<h3 id="bomb--missile-launching">Bomb &amp; Missile Launching</h3>
<ul>
<li>The right arrow key will allow the user to launch a frontal missile.</li>
<li>Pressing the space key will launch a bomb onto the buildings.</li>
<li>The number of missiles and bombs should be limited and, therefore, should be updated every time the user presses the space or right arrow key. Also, every time the helicopter comes from the left side, this number should be recalculated.</li>
</ul>
<h3 id="collision-detection">Collision Detection</h3>
<ul>
<li>If the helicopter collides with a skyscraper, the game ends.</li>
<li>Colliding with monsters weakens the helicopter, reducing its energy.</li>
</ul>
<h3 id="score-1">Score</h3>
<p>The score will be shown on the bottom of the screen. This will be increased every time the helicopter successfully reaches the right side, or when it destroys monsters or buildings.</p>
<h3 id="energy">Energy</h3>
<p>The helicopter has limited energy. This will also be shown on the bottom of the screen and will be reduced every time there is a collision with a monster.</p>
<h3 id="game-messages">Game Messages</h3>
<p>The player should be presented with a message when starting or ending the game, giving him instructions or showing him the final score.</p>
<h3 id="ending">Ending</h3>
<p>The game ends for three reasons:</p>
<ul>
<li>As mentioned before, if the helicopter collides with a building;</li>
<li>If it loses all the energy, from clashing with monsters;</li>
<li>Or if every building is successfully put on the ground by its bombs.</li>
</ul>
<h3 id="restarting">Restarting</h3>
<p>It should be possible to restart the game when it ends.</p>
<h2 id="design">DESIGN</h2>
<h3 id="the-scene-should-be-created-differently-for-different-cities">The Scene should be created differently for different Cities</h3>
<h5 id="problem-in-context">Problem in Context</h5>
<p>As we've had imagined the possibility to play in different scenes, which, here, represent different cities with their own buildings, monsters, and some other features, we needed to ensure their custom creation every time a new scene was returned. In order to accomplish this, in respect to SRP - in terms of relating the specific purpose of creating a new custom scene to a module only-, we decided to add some SceneCreators. There is, now, a base class, providing us with the necessary abstraction to also ensure the OCP, and its subclasses, each one creating its own detailed/featured city. <a href="https://github.com/FEUP-LPOO/lpoo-2020-g72/commits/master/src/src/main/java/com/lpoo/g72/creator">See here more of the details on the evolution of this problem and its solution.</a></p>
<h5 id="the-pattern">The Pattern</h5>
<p>We have applied the <strong>Factory Method</strong> pattern, which allowed us to represent different SceneCreators, each one returning a different scene, with their own features. Now, we may have tons of different scenes, different cities, random ones, etc.</p>
<h5 id="implementation">Implementation</h5>
<img src="file:////run/media/edurbrito/Work/FEUP-2Y2S-PROJECTS/lpoo-2020-g72/images/factoryPattern.svg">
<p>Mapping the pattern's roles to our classes, we have:</p>
<ul>
<li>Creator = <a href="../src/src/main/java/com/lpoo/g72/creator/SceneCreator.java">SceneCreator</a>, an abstract class with some methods:
<ul>
<li>AnOperation() = <code>protected char[][] generateBuildings(int width, int height, Random r, int heightFactor)</code></li>
<li>FactoryMethod() = <code>public abstract Scene createScene(int width, int height)</code></li>
</ul>
</li>
<li>ConcreteCreator = <a href="../src/src/main/java/com/lpoo/g72/creator/LisbonSceneCreator.java">LisbonSceneCreator</a>, <a href="../src/src/main/java/com/lpoo/g72/creator/OportoSceneCreator.java">OportoSceneCreator</a>, <a href="../src/src/main/java/com/lpoo/g72/creator/RandomSceneCreator.java">RandomSceneCreator</a>, etc...
<ul>
<li>These, in fact, implement the FactoryMethod from their base class, returning a brand new featured scene.</li>
</ul>
</li>
<li>Product = <a href="../src/src/main/java/com/lpoo/g72/scene/Scene.java">Scene</a>, as the concrete product built and returned.</li>
</ul>
<h5 id="consequences">Consequences</h5>
<p>Some benefits of this pattern:</p>
<ul>
<li>Firstly, it allowed the SRPrinciple, as the creation of a scene is now the task of only this module. Then, LSP, ISP and specially OCPrinciple followed. The last one is accomplished notoriously because of the simplicity that exists on arranging a new featured scene, with its own characteristics. It only takes creating a new subclasse and overriding the <code>createScene(...)</code> method.</li>
<li>It can be particularly interesting when having a main menu or something similar, where the user may choose the next city to attack, or even a random one, from a list of cities that can be drawn on the screen.</li>
<li>As mentioned, the knowledge of creating a scene is delegated to one of the several subclasses. These, indeed, only depend on one thing to create their predefined, or not, sequence of buildings: a random seed, that will generate the exact sequence of random numbers needed in the <code>generateBuildings(...)</code> method. This is the algorithm that &quot;lifts&quot; the cities and fills the array of characters for the scene. That approach reduced the extensive amount of code and allowed a lot of pseudo creativity when creating new scenarios for the game.</li>
</ul>
<h2 id="known-code-smells-and-refactoring-suggestions">KNOWN CODE SMELLS AND REFACTORING SUGGESTIONS</h2>
<h2 id="self-evaluation">SELF-EVALUATION</h2>
<!-- MORE INFO AT https://web.fe.up.pt/~arestivo/page/courses/2020/lpoo/template/ -->

    </body>
    </html>